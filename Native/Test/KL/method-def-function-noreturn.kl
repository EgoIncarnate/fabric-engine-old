struct Vec3
{
  Scalar x;
  Scalar y;
  Scalar z;
};

function Vec3 ( Scalar x, Scalar y, Scalar z )
{
  self.x = x;
  self.y = y;
  self.z = z;
}

function Vec3.normalize()
{
  var Scalar normSq = self.x*self.x + self.y*self.y + self.z*self.z;
  var Scalar norm = sqrt( normSq );
  self.x /= norm;
  self.y /= norm;
  self.z /= norm;
}

function Scalar dotProd( Vec3 lhs, Vec3 rhs )
{
  return lhs.x*rhs.x + lhs.y*rhs.y + lhs.z*rhs.z;
}

operator entry()
{
  var Vec3 vec3( 1.0, 2.0, 3.0 );
  report vec3.normalize();
  report dotProd( vec3, vec3 );
}
