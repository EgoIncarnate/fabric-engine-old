#
# Copyright 2010-2011 Fabric Technologies Inc. All rights reserved.
#

import os
Import( 'baseEnv', 'llvmFlags', 'md5Flags', 'buildOS' )

coreEnv = baseEnv.Clone()
coreEnv.MergeFlags( llvmFlags )
coreEnv.MergeFlags( md5Flags )
Export( 'coreEnv' )

buildObject = baseEnv.SharedObject( 'Build.cpp' )

if buildOS != 'Windows': #To investigate: in Windows, .cpp won't be copied to the build dir
  AlwaysBuild( buildObject )

NoCache( buildObject )
Export( 'buildObject' )

SConscript(
  dirs=[
    'Util',
    'MT',
    'RT',
    'CG',
    'AST',
    'OGL',
    'OCL',
    'KL',
    'IO',
    'Plug',
    'DG',
    'V8Ext',
  ]
  )
