use Vec3;
use Quat;
use Xfo;

operator projectWorkPlane(
  io Xfo workPlaneXfo,
  io Xfo cameraXfo,
  io Vec3 cameraTarget,
  io Boolean standing
) {
  workPlaneXfo = cameraXfo;
  workPlaneXfo.tr = cameraTarget;
  if(standing) {
    workPlaneXfo.ori.setFromDirectionAndUpvector(Vec3(0.0,-1.0,0.0),cameraXfo.ori.getZaxis());
  } else
    workPlaneXfo.ori = workPlaneXfo.ori * Quat(0.7068252,0.0,0.0,0.7073882);
}
